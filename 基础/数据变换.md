### 数据变换
让不同渠道的数据统一到一个目标数据库里。

#### 常见的数据变换方案
1. **数据平滑**：去除数据中的噪声，将连续数据离散化。
  * 分箱、聚类和回归进行数据平湖
2. **数据聚集**：对数据进行汇总。
  * SQL 聚集函数：Max() 反馈某个字段最大值；Sum() 返回某个字段数值总和。
3. **数据概化**：用更高的概念替代更低的概念，减少数据复杂度。
  * 上海、杭州、深圳、北京概化为中国。
4. **数据规范化**：使属性数据按比例缩放。
  * 最小-最大值规范化。
  * Z-score 规范化。
  * 按小数定标规范化。
5. **属性构造**：构造出新的属性并添加到属性集中。
  * 特征工程：通过属性与属性的连接构造新的属性。
  * 如统计表中语数英成绩总和，作为一个新的属性。

#### 数据规范化的几种方法
1. **Min-Max 规范化**
  * 将原数据变换到 [0,1] 的空间中。
  * 新数值 = (原数值 - 极小值) / (极大值 - 极小值)
2. **Z-Score 规范化**
  * 新数值 = (原数值 - 均值) / 标准差
  * 不受数据量级影响，结果易于比较。如 A B 考试均为 80，A 满分为 100，B 满分为 500。
3. **小数点定标规范化**
  * 通过移动小数点的位置进行规范化，移动多少位取决于属性 A 的取值中的最大绝对值。
  * A 取值范围为 -999 ~ 88，新数值 = 原数值 / 1000，规范为 -0.999 ~ 0.088。

#### Python 中 Scikit-Learn 库的使用
1. Min-Max 规范化
  * MinMaxScaler()，给定一个最大最小值，将原始数据投射到 [min, max] 中，默认情况下是 [0,1]。
  ```
  from sklearn import preprocessing
  # x 是 ndarray
  min_max_scaler = preprocessing.MinMaxScaler()
  minmax_x = min_max_scaler.fit_transform(x)
  ```
2. Z-Score 规范化
  * preprocessing.scale() 对数据进行 Z-Score 规范化。
  ```
  scaled_x = preprocessing.scale(x)
  ```
  * 每列均值为 0，方差为 1。
3. 小数定标规范化
  * ceil()：返回数字的上入整数。
  ```
  j = np.ceil(np.log10(np.max(abs(x))))
  scaled_x = x / (10**j)
  ```
